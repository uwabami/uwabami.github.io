<!doctype html>
<html ⚡ lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    <link rel="preconnect dns-prefetch" href="//cdn.ampproject.org" crossorigin>
    <link rel="preconnect dns-prefetch" href="//uwabami.github.io/" crossorigin>
    <!-- amp preload -->
    <link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js">
    <link rel="preload" as="font" type="font/woff2" href="/assets/fonts/ComicNeueSubset.woff2" crossorigin>
    <!-- end amp preload -->
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-geo" src="https://cdn.ampproject.org/v0/amp-geo-0.1.js"></script>
    <script async custom-element="amp-consent" src="https://cdn.ampproject.org/v0/amp-consent-0.1.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
    <style amp-custom>:root{--font-family: sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", Symbola;--line-height: 1.5;--font-weight: 400;--font-size: 16px;--border-radius: 0.25rem;--border-width: 1px;--outline-width: 3px;--spacing: 1rem;--typography-spacing-vertical: 1.5rem;--block-spacing-vertical: calc(var(--spacing) * 2);--block-spacing-horizontal: var(--spacing);--grid-spacing-vertical: 0;--grid-spacing-horizontal: var(--spacing);--form-element-spacing-vertical: 0.75rem;--form-element-spacing-horizontal: 1rem;--nav-element-spacing-vertical: 1rem;--nav-element-spacing-horizontal: 0.5rem;--nav-link-spacing-vertical: 0.5rem;--nav-link-spacing-horizontal: 0.5rem;--form-label-font-weight: var(--font-weight);--transition: 0.2s ease-in-out;--modal-overlay-backdrop-filter: blur(0.25rem)}@media(min-width: 576px){:root{--font-size: 17px}}@media(min-width: 768px){:root{--font-size: 18px}}@media(min-width: 992px){:root{--font-size: 19px}}@media(min-width: 1200px){:root{--font-size: 20px}}@media(min-width: 576px){body>header,body>main,body>footer,section{--block-spacing-vertical: calc(var(--spacing) * 2.5)}}@media(min-width: 768px){body>header,body>main,body>footer,section{--block-spacing-vertical: calc(var(--spacing) * 3)}}@media(min-width: 992px){body>header,body>main,body>footer,section{--block-spacing-vertical: calc(var(--spacing) * 3.5)}}@media(min-width: 1200px){body>header,body>main,body>footer,section{--block-spacing-vertical: calc(var(--spacing) * 4)}}@media(min-width: 576px){article{--block-spacing-horizontal: calc(var(--spacing) * 1.25)}}@media(min-width: 768px){article{--block-spacing-horizontal: calc(var(--spacing) * 1.5)}}@media(min-width: 992px){article{--block-spacing-horizontal: calc(var(--spacing) * 1.75)}}@media(min-width: 1200px){article{--block-spacing-horizontal: calc(var(--spacing) * 2)}}dialog>article{--block-spacing-vertical: calc(var(--spacing) * 2);--block-spacing-horizontal: var(--spacing)}@media(min-width: 576px){dialog>article{--block-spacing-vertical: calc(var(--spacing) * 2.5);--block-spacing-horizontal: calc(var(--spacing) * 1.25)}}@media(min-width: 768px){dialog>article{--block-spacing-vertical: calc(var(--spacing) * 3);--block-spacing-horizontal: calc(var(--spacing) * 1.5)}}a{--text-decoration: none}a.secondary,a.contrast{--text-decoration: underline}small{--font-size: 0.875em}h1,h2,h3,h4,h5,h6{--font-weight: normal}h1{--font-size: 2rem}h2{--font-size: 1.75rem;border-bottom:1px solid #5af;font-weight:normal;padding:0;margin:1rem 0 0 0}h3{--font-size: 1.5rem;border-bottom:1px dashed #5af;font-weight:normal;margin:1rem 0 0 0}h4{--font-size: 1.25rem;border-bottom:1px dotted #5af;font-weight:normal;margin:1rem 0 0 0}h5{--font-size: 1.125rem;border-bottom:1px dashed #333;font-weight:normal;margin:1rem 0 0 0}h6{--font-size: 1.05rem;border-bottom:1px dashed #333;font-weight:normal;margin:1rem 0 0 0}strong{font-weight:normal;font-size:1.75em}[type=checkbox],[type=radio]{--border-width: 2px}[type=checkbox][role=switch]{--border-width: 3px}thead th,thead td,tfoot th,tfoot td{--border-width: 3px}:not(thead,tfoot)>*>td{--font-size: 0.875em}pre,code,kbd,samp{--font-family: "Menlo", "Cascadia", "Cascadia Code", "Cascadia Mono", "Consolas", "Monaco", monospace, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", Symbola}kbd{--font-weight: bolder}:root{--background-color: #fff;--color: hsl(205, 20%, 32%);--h1-color: hsl(205, 30%, 15%);--h2-color: #24333e;--h3-color: hsl(205, 25%, 23%);--h4-color: #374956;--h5-color: hsl(205, 20%, 32%);--h6-color: #4d606d;--muted-color: hsl(205, 10%, 50%);--muted-border-color: hsl(205, 20%, 94%);--primary: hsl(195, 85%, 41%);--primary-hover: hsl(195, 90%, 32%);--primary-focus: rgba(16, 149, 193, 0.125);--primary-inverse: #fff;--secondary: hsl(205, 15%, 41%);--secondary-hover: hsl(205, 20%, 32%);--secondary-focus: rgba(89, 107, 120, 0.125);--secondary-inverse: #fff;--contrast: hsl(205, 30%, 15%);--contrast-hover: #000;--contrast-focus: rgba(89, 107, 120, 0.125);--contrast-inverse: #fff;--mark-background-color: #fff2ca;--mark-color: #543a26;--ins-color: #388e3c;--del-color: #c62828;--blockquote-border-color: var(--muted-border-color);--blockquote-footer-color: var(--muted-color);--button-box-shadow: 0 0 0 rgba(0, 0, 0, 0);--button-hover-box-shadow: 0 0 0 rgba(0, 0, 0, 0);--form-element-background-color: transparent;--form-element-border-color: hsl(205, 14%, 68%);--form-element-color: var(--color);--form-element-placeholder-color: var(--muted-color);--form-element-active-background-color: transparent;--form-element-active-border-color: var(--primary);--form-element-focus-color: var(--primary-focus);--form-element-disabled-background-color: hsl(205, 18%, 86%);--form-element-disabled-border-color: hsl(205, 14%, 68%);--form-element-disabled-opacity: 0.5;--form-element-invalid-border-color: #c62828;--form-element-invalid-active-border-color: #d32f2f;--form-element-invalid-focus-color: rgba(211, 47, 47, 0.125);--form-element-valid-border-color: #388e3c;--form-element-valid-active-border-color: #43a047;--form-element-valid-focus-color: rgba(67, 160, 71, 0.125);--switch-background-color: hsl(205, 16%, 77%);--switch-color: var(--primary-inverse);--switch-checked-background-color: var(--primary);--range-border-color: hsl(205, 18%, 86%);--range-active-border-color: hsl(205, 16%, 77%);--range-thumb-border-color: var(--background-color);--range-thumb-color: var(--secondary);--range-thumb-hover-color: var(--secondary-hover);--range-thumb-active-color: var(--primary);--table-border-color: var(--muted-border-color);--table-row-stripped-background-color: #f6f8f9;--code-background-color: hsl(210, 28%, 97%);--code-color: var(--muted-color);--code-kbd-background-color: var(--contrast);--code-kbd-color: var(--contrast-inverse);--code-tag-color: hsl(330, 40%, 50%);--code-property-color: hsl(185, 40%, 40%);--code-value-color: hsl(40, 20%, 50%);--code-comment-color: hsl(205, 14%, 68%);--accordion-border-color: var(--muted-border-color);--accordion-close-summary-color: var(--color);--accordion-open-summary-color: var(--muted-color);--card-background-color: var(--background-color);--card-border-color: var(--muted-border-color);--card-box-shadow: 0.0145rem 0.029rem 0.174rem rgba(27, 40, 50, 0.01698), 0.0335rem 0.067rem 0.402rem rgba(27, 40, 50, 0.024), 0.0625rem 0.125rem 0.75rem rgba(27, 40, 50, 0.03), 0.1125rem 0.225rem 1.35rem rgba(27, 40, 50, 0.036), 0.2085rem 0.417rem 2.502rem rgba(27, 40, 50, 0.04302), 0.5rem 1rem 6rem rgba(27, 40, 50, 0.06), 0 0 0 0.0625rem rgba(27, 40, 50, 0.015);--card-sectionning-background-color: #fbfbfc;--dropdown-background-color: #fbfbfc;--dropdown-border-color: #e1e6eb;--dropdown-box-shadow: var(--card-box-shadow);--dropdown-color: var(--color);--dropdown-hover-background-color: hsl(205, 20%, 94%);--modal-overlay-background-color: rgba(213, 220, 226, 0.7);--progress-background-color: hsl(205, 18%, 86%);--progress-color: var(--primary);--loading-spinner-opacity: 0.5;--tooltip-background-color: var(--contrast);--tooltip-color: var(--contrast-inverse);--icon-chevron: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(65, 84, 98)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-search: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(65, 84, 98)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");color-scheme:light}progress,[type=checkbox],[type=radio],[type=range]{accent-color:var(--primary)}*,*::before,*::after{box-sizing:border-box;background-repeat:no-repeat}::before,::after{text-decoration:inherit;vertical-align:inherit}:where(:root){-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-text-size-adjust:100%;text-size-adjust:100%;background-color:var(--background-color);color:var(--color);font-weight:var(--font-weight);font-size:var(--font-size);line-height:var(--line-height);font-family:var(--font-family);text-rendering:optimizeLegibility;overflow-wrap:break-word;cursor:default;tab-size:4}main{display:block}body{width:100%;margin:0}body>header,body>main,body>footer{width:100%;margin-right:auto;margin-left:auto;padding:var(--block-spacing-vertical) 0}.container,.container-fluid{width:100%;margin-right:auto;margin-left:auto;padding-right:var(--spacing);padding-left:var(--spacing)}@media(min-width: 576px){.container{max-width:510px;padding-right:0;padding-left:0}}@media(min-width: 768px){.container{max-width:700px}}@media(min-width: 992px){.container{max-width:920px}}@media(min-width: 1200px){.container{max-width:1130px}}section{margin-bottom:var(--block-spacing-vertical)}figure{display:block;margin:0;padding:0;overflow-x:auto}figure figcaption{padding:calc(var(--spacing)*.5) 0;color:var(--muted-color)}b,strong{font-weight:bolder}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}address,blockquote,dl,figure,form,ol,p,pre,table,ul{margin-top:0;margin-bottom:var(--typography-spacing-vertical);color:var(--color);font-style:normal;font-weight:var(--font-weight);font-size:var(--font-size)}a,[role=link]{--color: var(--primary);--background-color: transparent;outline:none;background-color:var(--background-color);color:var(--color);text-decoration:var(--text-decoration);transition:background-color var(--transition),color var(--transition),text-decoration var(--transition),box-shadow var(--transition)}a:is([aria-current],:hover,:active,:focus),[role=link]:is([aria-current],:hover,:active,:focus){--color: var(--primary-hover);--text-decoration: underline}a:focus,[role=link]:focus{--background-color: var(--primary-focus)}a.secondary,[role=link].secondary{--color: var(--secondary)}a.secondary:is([aria-current],:hover,:active,:focus),[role=link].secondary:is([aria-current],:hover,:active,:focus){--color: var(--secondary-hover)}a.secondary:focus,[role=link].secondary:focus{--background-color: var(--secondary-focus)}a.contrast,[role=link].contrast{--color: var(--contrast)}a.contrast:is([aria-current],:hover,:active,:focus),[role=link].contrast:is([aria-current],:hover,:active,:focus){--color: var(--contrast-hover)}a.contrast:focus,[role=link].contrast:focus{--background-color: var(--contrast-focus)}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:var(--typography-spacing-vertical);color:var(--color);font-weight:var(--font-weight);font-size:var(--font-size);font-family:var(--font-family)}h1{--color: var(--h1-color)}h2{--color: var(--h2-color)}h3{--color: var(--h3-color)}h4{--color: var(--h4-color)}h5{--color: var(--h5-color)}h6{--color: var(--h6-color)}:where(address,blockquote,dl,figure,form,ol,p,pre,table,ul)~:is(h1,h2,h3,h4,h5,h6){margin-top:var(--typography-spacing-vertical)}hgroup,.headings{margin-bottom:var(--typography-spacing-vertical)}hgroup>*,.headings>*{margin-bottom:0}hgroup>*:last-child,.headings>*:last-child{--color: var(--muted-color);--font-weight: unset;font-size:1rem;font-family:unset}p{margin-bottom:var(--typography-spacing-vertical)}small{font-size:var(--font-size)}:where(dl,ol,ul){padding-right:0;padding-left:var(--spacing);padding-inline-start:var(--spacing);padding-inline-end:0}:where(dl,ol,ul) li{margin-bottom:calc(var(--typography-spacing-vertical)*.25)}:where(dl,ol,ul) :is(dl,ol,ul){margin:0;margin-top:calc(var(--typography-spacing-vertical)*.25)}ul li{list-style:square}mark{padding:.125rem .25rem;background-color:var(--mark-background-color);color:var(--mark-color);vertical-align:baseline}blockquote{display:block;margin:var(--typography-spacing-vertical) 0;padding:var(--spacing);border-right:none;border-left:.25rem solid var(--blockquote-border-color);border-inline-start:.25rem solid var(--blockquote-border-color);border-inline-end:none}blockquote footer{margin-top:calc(var(--typography-spacing-vertical)*.5);color:var(--blockquote-footer-color)}abbr[title]{border-bottom:1px dotted;text-decoration:none;cursor:help}ins{color:var(--ins-color);text-decoration:none}del{color:var(--del-color)}::selection{background-color:var(--primary-focus)}ul li{list-style:disc}dl{padding-left:0px}dd{margin-left:1rem}:where(audio,canvas,iframe,img,svg,video){vertical-align:middle}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}:where(iframe){border-style:none}img{max-width:100%;height:auto;border-style:none}:where(svg:not([fill])){fill:currentColor}svg:not(:root){overflow:hidden}input,optgroup,select,textarea{margin:0;font-size:1rem;line-height:var(--line-height);font-family:inherit;letter-spacing:inherit}input{overflow:visible}select{text-transform:none}legend{max-width:100%;padding:0;color:inherit;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{padding:0}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}::-moz-focus-inner{padding:0;border-style:none}:-moz-focusring{outline:none}:-moz-ui-invalid{box-shadow:none}::-ms-expand{display:none}[type=file],[type=range]{padding:0;border-width:0}input:not([type=checkbox],[type=radio],[type=range]){height:calc(1rem*var(--line-height) + var(--form-element-spacing-vertical)*2 + var(--border-width)*2)}fieldset{margin:0;margin-bottom:var(--spacing);padding:0;border:0}label,fieldset legend{display:block;margin-bottom:calc(var(--spacing)*.25);font-weight:var(--form-label-font-weight, var(--font-weight))}input:not([type=checkbox],[type=radio]),select,textarea{width:100%}input:not([type=checkbox],[type=radio],[type=range],[type=file]),select,textarea{appearance:none;padding:var(--form-element-spacing-vertical) var(--form-element-spacing-horizontal)}input,select,textarea{--background-color: var(--form-element-background-color);--border-color: var(--form-element-border-color);--color: var(--form-element-color);--box-shadow: none;border:var(--border-width) solid var(--border-color);border-radius:var(--border-radius);outline:none;background-color:var(--background-color);box-shadow:var(--box-shadow);color:var(--color);font-weight:var(--font-weight);transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition)}input:not([type=submit],[type=button],[type=reset],[type=checkbox],[type=radio],[readonly]):is(:active,:focus),:where(select,textarea):is(:active,:focus){--background-color: var(--form-element-active-background-color)}input:not([type=submit],[type=button],[type=reset],[role=switch],[readonly]):is(:active,:focus),:where(select,textarea):is(:active,:focus){--border-color: var(--form-element-active-border-color)}input:not([type=submit],[type=button],[type=reset],[type=range],[type=file],[readonly]):focus,select:focus,textarea:focus{--box-shadow: 0 0 0 var(--outline-width) var(--form-element-focus-color)}input:not([type=submit],[type=button],[type=reset])[disabled],select[disabled],textarea[disabled],:where(fieldset[disabled]) :is(input:not([type=submit],[type=button],[type=reset]),select,textarea){--background-color: var(--form-element-disabled-background-color);--border-color: var(--form-element-disabled-border-color);opacity:var(--form-element-disabled-opacity);pointer-events:none}:where(input,select,textarea):not([type=checkbox],[type=radio],[type=date],[type=datetime-local],[type=month],[type=time],[type=week])[aria-invalid]{padding-right:calc(var(--form-element-spacing-horizontal) + 1.5rem);padding-left:var(--form-element-spacing-horizontal);padding-inline-start:var(--form-element-spacing-horizontal);padding-inline-end:calc(var(--form-element-spacing-horizontal) + 1.5rem);background-position:center right .75rem;background-size:1rem auto;background-repeat:no-repeat}:where(input,select,textarea):not([type=checkbox],[type=radio],[type=date],[type=datetime-local],[type=month],[type=time],[type=week])[aria-invalid=false]{background-image:var(--icon-valid)}:where(input,select,textarea):not([type=checkbox],[type=radio],[type=date],[type=datetime-local],[type=month],[type=time],[type=week])[aria-invalid=true]{background-image:var(--icon-invalid)}:where(input,select,textarea)[aria-invalid=false]{--border-color: var(--form-element-valid-border-color)}:where(input,select,textarea)[aria-invalid=false]:is(:active,:focus){--border-color: var(--form-element-valid-active-border-color);--box-shadow: 0 0 0 var(--outline-width) var(--form-element-valid-focus-color)}:where(input,select,textarea)[aria-invalid=true]{--border-color: var(--form-element-invalid-border-color)}:where(input,select,textarea)[aria-invalid=true]:is(:active,:focus){--border-color: var(--form-element-invalid-active-border-color);--box-shadow: 0 0 0 var(--outline-width) var(--form-element-invalid-focus-color)}[dir=rtl] :where(input,select,textarea):not([type=checkbox],[type=radio]):is([aria-invalid],[aria-invalid=true],[aria-invalid=false]){background-position:center left .75rem}input::placeholder,input::-webkit-input-placeholder,textarea::placeholder,textarea::-webkit-input-placeholder,select:invalid{color:var(--form-element-placeholder-color);opacity:1}input:not([type=checkbox],[type=radio]),select,textarea{margin-bottom:var(--spacing)}select::-ms-expand{border:0;background-color:rgba(0,0,0,0)}select:not([multiple],[size]){padding-right:calc(var(--form-element-spacing-horizontal) + 1.5rem);padding-left:var(--form-element-spacing-horizontal);padding-inline-start:var(--form-element-spacing-horizontal);padding-inline-end:calc(var(--form-element-spacing-horizontal) + 1.5rem);background-image:var(--icon-chevron);background-position:center right .75rem;background-size:1rem auto;background-repeat:no-repeat}[dir=rtl] select:not([multiple],[size]){background-position:center left .75rem}:where(input,select,textarea,.grid)+small{display:block;width:100%;margin-top:calc(var(--spacing)*-0.75);margin-bottom:var(--spacing);color:var(--muted-color)}label>:where(input,select,textarea){margin-top:calc(var(--spacing)*.25)}input:not([type=checkbox],[type=radio],[type=range],[type=file])[type=search]{padding-inline-start:calc(var(--form-element-spacing-horizontal) + 1.75rem);border-radius:5rem;background-image:var(--icon-search);background-position:center left 1.125rem;background-size:1rem auto;background-repeat:no-repeat}input:not([type=checkbox],[type=radio],[type=range],[type=file])[type=search][aria-invalid]{padding-inline-start:calc(var(--form-element-spacing-horizontal) + 1.75rem);background-position:center left 1.125rem,center right .75rem}input:not([type=checkbox],[type=radio],[type=range],[type=file])[type=search][aria-invalid=false]{background-image:var(--icon-search),var(--icon-valid)}input:not([type=checkbox],[type=radio],[type=range],[type=file])[type=search][aria-invalid=true]{background-image:var(--icon-search),var(--icon-invalid)}[type=search]::-webkit-search-cancel-button{-webkit-appearance:none;display:none}[dir=rtl] :where(input):not([type=checkbox],[type=radio],[type=range],[type=file])[type=search]{background-position:center right 1.125rem}[dir=rtl] :where(input):not([type=checkbox],[type=radio],[type=range],[type=file])[type=search][aria-invalid]{background-position:center right 1.125rem,center left .75rem}:where(table){width:100%;border-collapse:collapse;border-spacing:0;text-indent:0}th,td{padding:calc(var(--spacing)/2) var(--spacing);border-bottom:var(--border-width) solid var(--table-border-color);color:var(--color);font-weight:var(--font-weight);font-size:var(--font-size);text-align:left;text-align:start}tfoot th,tfoot td{border-top:var(--border-width) solid var(--table-border-color);border-bottom:0}table[role=grid] tbody tr:nth-child(odd){background-color:var(--table-row-stripped-background-color)}pre,code,kbd,samp{font-size:.875em;font-family:var(--font-family)}pre{-ms-overflow-style:scrollbar;overflow:auto}pre,code,kbd{border-radius:var(--border-radius);background:var(--code-background-color);font-weight:var(--font-weight);line-height:initial}code,kbd{display:inline-block;padding:.375rem .5rem}pre{display:block;margin-bottom:var(--spacing);overflow-x:auto}pre>code{display:block;padding:var(--spacing);background:none;line-height:var(--line-height)}kbd{background-color:var(--code-kbd-background-color);color:var(--code-kbd-color);vertical-align:baseline}figure.highlight{margin:0;padding:0;border:0;font-family:inherit}.highlight{font-family:inherit}.highlight{background-color:#f8f8f8}.highlight table td{padding:5px}.highlight table pre{margin:0}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .c{color:#998;font-style:italic}.highlight .ch{color:#998;font-style:italic}.highlight .cd{color:#998;font-style:italic}.highlight .cpf{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .gd{color:#000;background-color:#fdd}.highlight .ge{color:#000;font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{color:#000;font-weight:bold}.highlight .kd{color:#000;font-weight:bold}.highlight .kn{color:#000;font-weight:bold}.highlight .kp{color:#000;font-weight:bold}.highlight .kr{color:#000;font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .k{color:#000;font-weight:bold}.highlight .kv{color:#000;font-weight:bold}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .il{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .m{color:#099}.highlight .mb{color:#099}.highlight .mx{color:#099}.highlight .sa{color:#000;font-weight:bold}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .s{color:#d14}.highlight .dl{color:#d14}.highlight .na{color:teal}.highlight .bp{color:#999}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:teal}.highlight .nd{color:#3c5d5d;font-weight:bold}.highlight .ni{color:purple}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .fm{color:#900;font-weight:bold}.highlight .nl{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:navy}.highlight .vc{color:teal}.highlight .vg{color:teal}.highlight .vi{color:teal}.highlight .nv{color:teal}.highlight .vm{color:teal}.highlight .ow{color:#000;font-weight:bold}.highlight .o{color:#000;font-weight:bold}.highlight .w{color:#bbb}hr{height:0;border:0;border-top:1px solid var(--muted-border-color);color:inherit}[hidden],template{display:none}canvas{display:inline-block}details{display:block;margin-bottom:var(--spacing);padding-bottom:var(--spacing);border-bottom:var(--border-width) solid var(--accordion-border-color)}details summary{line-height:1rem;list-style-type:none;cursor:pointer;transition:color var(--transition)}details summary:not([role]){color:var(--accordion-close-summary-color)}details summary::-webkit-details-marker{display:none}details summary::marker{display:none}details summary::-moz-list-bullet{list-style-type:none}details summary::after{display:block;width:1rem;height:1rem;margin-inline-start:calc(var(--spacing, 1rem)*.5);float:right;transform:rotate(-90deg);background-image:var(--icon-chevron);background-position:right center;background-size:1rem auto;background-repeat:no-repeat;content:"";transition:transform var(--transition)}details summary:focus{outline:none}details summary:focus:not([role=button]){color:var(--accordion-active-summary-color)}details summary[role=button]{width:100%;text-align:left}details summary[role=button]::after{height:calc(1rem*var(--line-height, 1.5));background-image:var(--icon-chevron-button)}details summary[role=button]:not(.outline).contrast::after{background-image:var(--icon-chevron-button-inverse)}details[open]>summary{margin-bottom:calc(var(--spacing))}details[open]>summary:not([role]):not(:focus){color:var(--accordion-open-summary-color)}details[open]>summary::after{transform:rotate(0)}[dir=rtl] details summary{text-align:right}[dir=rtl] details summary::after{float:left;background-position:left center}:where(nav li)::before{float:left;content:"​"}nav,nav ul{display:flex}nav{justify-content:space-between}nav ol,nav ul{align-items:center;margin-bottom:0;padding:0;list-style:none}nav ol:first-of-type,nav ul:first-of-type{margin-left:calc(var(--nav-element-spacing-horizontal)*-1)}nav ol:last-of-type,nav ul:last-of-type{margin-right:calc(var(--nav-element-spacing-horizontal)*-1)}nav li{display:inline-block;margin:0;padding:var(--nav-element-spacing-vertical) var(--nav-element-spacing-horizontal)}nav li>*{--spacing: 0}nav :where(a,[role=link]){display:inline-block;margin:calc(var(--nav-link-spacing-vertical)*-1) calc(var(--nav-link-spacing-horizontal)*-1);padding:var(--nav-link-spacing-vertical) var(--nav-link-spacing-horizontal);border-radius:var(--border-radius);text-decoration:none}nav :where(a,[role=link]):is([aria-current],:hover,:active,:focus){text-decoration:none}nav[aria-label=breadcrumb]{align-items:center;justify-content:start}nav[aria-label=breadcrumb] ul li:not(:first-child){margin-inline-start:var(--nav-link-spacing-horizontal)}nav[aria-label=breadcrumb] ul li:not(:last-child) ::after{position:absolute;width:calc(var(--nav-link-spacing-horizontal)*2);margin-inline-start:calc(var(--nav-link-spacing-horizontal)/2);content:"/";color:var(--muted-color);text-align:center}nav[aria-label=breadcrumb] a[aria-current]{background-color:rgba(0,0,0,0);color:inherit;text-decoration:none;pointer-events:none}nav [role=button]{margin-right:inherit;margin-left:inherit;padding:var(--nav-link-spacing-vertical) var(--nav-link-spacing-horizontal)}aside nav,aside ol,aside ul,aside li{display:block}aside li{padding:calc(var(--nav-element-spacing-vertical)*.5) var(--nav-element-spacing-horizontal)}aside li a{display:block}aside li [role=button]{margin:inherit}[dir=rtl] nav[aria-label=breadcrumb] ul li:not(:last-child) ::after{content:"\\"}nav input:not([type=checkbox],[type=radio]),nav select,nav textarea{width:100%;max-width:300px}nav[aria-label=breadcrumb] ul li:not(:last-child) ::after{text-decoration:none}details[role=list],li[role=list]{position:relative}details[role=list] summary+ul,li[role=list]>ul{display:flex;z-index:99;position:absolute;top:auto;right:0;left:0;flex-direction:column;margin:0;padding:0;border:var(--border-width) solid var(--dropdown-border-color);border-radius:var(--border-radius);border-top-right-radius:0;border-top-left-radius:0;background-color:var(--dropdown-background-color);box-shadow:var(--card-box-shadow);color:var(--dropdown-color);white-space:nowrap}details[role=list] summary+ul li,li[role=list]>ul li{width:100%;margin-bottom:0;padding:calc(var(--form-element-spacing-vertical)*.5) var(--form-element-spacing-horizontal);list-style:none}details[role=list] summary+ul li:first-of-type,li[role=list]>ul li:first-of-type{margin-top:calc(var(--form-element-spacing-vertical)*.5)}details[role=list] summary+ul li:last-of-type,li[role=list]>ul li:last-of-type{margin-bottom:calc(var(--form-element-spacing-vertical)*.5)}details[role=list] summary+ul li a,li[role=list]>ul li a{display:block;margin:calc(var(--form-element-spacing-vertical)*-0.5) calc(var(--form-element-spacing-horizontal)*-1);padding:calc(var(--form-element-spacing-vertical)*.5) var(--form-element-spacing-horizontal);overflow:hidden;color:var(--dropdown-color);text-decoration:none;text-overflow:ellipsis}details[role=list] summary+ul li a:hover,li[role=list]>ul li a:hover{background-color:var(--dropdown-hover-background-color)}details[role=list] summary::after,li[role=list]>a::after{display:block;width:1rem;height:calc(1rem*var(--line-height, 1.5));margin-inline-start:.5rem;float:right;transform:rotate(0deg);background-position:right center;background-size:1rem auto;background-repeat:no-repeat;content:""}details[role=list]{padding:0;border-bottom:none}details[role=list] summary{margin-bottom:0}details[role=list] summary:not([role]){height:calc(1rem*var(--line-height) + var(--form-element-spacing-vertical)*2 + var(--border-width)*2);padding:var(--form-element-spacing-vertical) var(--form-element-spacing-horizontal);border:var(--border-width) solid var(--form-element-border-color);border-radius:var(--border-radius);background-color:var(--form-element-background-color);color:var(--form-element-placeholder-color);line-height:inherit;cursor:pointer;transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition)}details[role=list] summary:not([role]):active,details[role=list] summary:not([role]):focus{border-color:var(--form-element-active-border-color);background-color:var(--form-element-active-background-color)}details[role=list] summary:not([role]):focus{box-shadow:0 0 0 var(--outline-width) var(--form-element-focus-color)}details[role=list][open] summary{border-bottom-right-radius:0;border-bottom-left-radius:0}details[role=list][open] summary::before{display:block;z-index:1;position:fixed;top:0;right:0;bottom:0;left:0;background:none;content:"";cursor:default}nav details[role=list] summary,nav li[role=list] a{display:flex;direction:ltr}nav details[role=list] summary+ul,nav li[role=list]>ul{min-width:fit-content;border-radius:var(--border-radius)}nav details[role=list] summary+ul li a,nav li[role=list]>ul li a{border-radius:0}nav details[role=list] summary,nav details[role=list] summary:not([role]){height:auto;padding:var(--nav-link-spacing-vertical) var(--nav-link-spacing-horizontal)}nav details[role=list][open] summary{border-radius:var(--border-radius)}nav details[role=list] summary+ul{margin-top:var(--outline-width);margin-inline-start:0}nav details[role=list] summary[role=link]{margin-bottom:calc(var(--nav-link-spacing-vertical)*-1);line-height:var(--line-height)}nav details[role=list] summary[role=link]+ul{margin-top:calc(var(--nav-link-spacing-vertical) + var(--outline-width));margin-inline-start:calc(var(--nav-link-spacing-horizontal)*-1)}li[role=list]:hover>ul,li[role=list] a:active~ul,li[role=list] a:focus~ul{display:flex}li[role=list]>ul{display:none;margin-top:calc(var(--nav-link-spacing-vertical) + var(--outline-width));margin-inline-start:calc(var(--nav-element-spacing-horizontal) - var(--nav-link-spacing-horizontal))}li[role=list]>a::after{background-image:var(--icon-chevron)}summary[role=link]{transition:color var(--transition)}summary[role=link]::-webkit-details-marker{display:none}summary[role=link]::marker{display:none}summary[role=link]::-moz-list-bullet{list-style-type:none}summary[role=link]::after{display:block;width:1rem;height:1rem;margin-inline-start:calc(var(--spacing, 1rem)*.5);float:right;transform:rotate(-90deg);background-image:var(--icon-chevron);background-position:right center;background-size:1rem auto;background-repeat:no-repeat;content:"";transition:transform var(--transition)}[aria-controls]{cursor:pointer}[aria-disabled=true],[disabled]{cursor:not-allowed}[aria-hidden=false][hidden]{display:initial}[aria-hidden=false][hidden]:not(:focus){clip:rect(0, 0, 0, 0);position:absolute}a,area,button,input,label,select,summary,textarea,[tabindex]{-ms-touch-action:manipulation}[dir=rtl]{direction:rtl}@font-face{font-family:"Comic Neue";font-style:normal;font-weight:400;font-display:swap;src:local("Comic Neue"),local("Comic Neue"),url("/assets/fonts/ComicNeueSubset.woff2") format("woff2")}@font-face{font-family:"AoyagiKouzanTSubset";font-style:normal;font-weight:400;font-display:swap;src:local("AoyagiKouzanTSubset"),local("AoyagiKouzanTSubset"),url("/assets/fonts/AoyagiKouzanTSubset.woff2") format("woff2")}.title-font{font-family:"Comic Neue","AoyagiKouzanTSubset",sans-serif}#top{border-radius:80%}nav{--typography-spacing-vertical: 0rem;--nav-element-spacing-vertical: 0.25rem;--form-element-spacing-vertical: 0.25rem}.wrapper{min-height:100%}header{position:sticky;top:0;background-color:var(--background-color);box-shadow:0 6px 10px -10px rgba(0,0,0,.7);margin-bottom:var(--spacing);z-index:100}.langselector{margin-left:auto}#table-of-contents{align-items:center;justify-content:start;border-bottom:1px solid rgba(0,0,0,.1);margin-bottom:10px;padding-bottom:10px}#table-of-contents h2{--font-size: 1rem;border:none}#table-of-contents h2:after{content:":";padding:0;margin:0;margin-right:var(--nav-link-spacing-horizontal)}#table-of-contents ul li:not(:first-child){margin-inline-start:var(--nav-link-spacing-horizontal)}#table-of-contents ul li:not(:last-child) ::after{position:absolute;width:calc(var(--nav-link-spacing-horizontal)*2);margin-inline-start:calc(var(--nav-link-spacing-horizontal)/2);content:"/";color:var(--muted-color);text-align:center;text-decoration:none}#table-of-contents a[aria-current]{background-color:rgba(0,0,0,0);color:inherit;text-decoration:none;pointer-events:none}footer p{text-align:right}.profile-picture{height:20vw;max-height:260px;width:20vw;max-width:260px;position:relative;float:right;border-radius:50%;margin-top:-1rem}.menu-btn{display:none}@media(min-width: 768px){.md-hide{display:none}.back_to_top{margin-left:85%}.title-font{font-size:3rem}}@media(max-width: 768px){.menu-icon{display:flex;height:60px;width:60px;justify-content:center;align-items:center;position:relative;z-index:200;cursor:pointer}.menu-icon span,.menu-icon span:before,.menu-icon span:after{content:"";display:block;height:3px;width:25px;border-radius:3px;background:#000;transition:.5s;position:absolute}.menu-icon span:before{bottom:8px}.menu-icon span:after{top:8px}#menu-btn:checked~.menu-icon span{background:#fff}#menu-btn:checked~.menu-icon span::before{bottom:0;transform:rotate(45deg)}#menu-btn:checked~.menu-icon span::after{top:0;transform:rotate(-45deg)}.menu{width:100%;height:100%;position:fixed;top:0;left:100%;z-index:200;background:#fff;transition:.5s;flex-direction:column;margin-top:120px}#menu-btn:checked~.menu{left:0;width:100%}.title-font{font-size:2rem}#table-of-contents{display:none}.sm-hide{display:none}.profile-picture{margin-top:-4rem}}.logo{border-radius:80%}.icon-envelope svg,.icon-key svg,.icon-keybase svg,.icon-twitter svg,.icon-facebook svg,.icon-github svg,.icon-mastodon svg,.icon-amp svg{height:1.2rem;width:1.2rem}.icon-envelope{color:#242424}.icon-key{color:#ff8c00}.icon-keybase{color:#ff8c00}.icon-twitter{color:#55acee}.icon-facebook{color:#3b5998}.icon-github{color:#4c4c4c}.icon-mastodon{color:#3b5998}.icon-amp{color:#ff851b}.research li:nth-child(even){background-color:#f5f5f5}.back_to_top{--offset: 80px;position:sticky;bottom:20px;margin-top:calc(100vh + var(--offset));margin-left:calc(100% - 20px - 6rem);text-decoration:none;padding:10px;color:#fff;background:#000;border-radius:100px;white-space:nowrap}.nowrap{white-space:pre}a:hover{text-decoration:underline}span.anchor{display:none}.sanchor{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAAAAAA6I3INAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAAAOAAAADgCxW/H3AAAAH0lEQVQI12M4jAIYDv9HAni4hw/Tmgt3E1YuiqtQAAD5Nq+Ne1ON1gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMi0wNy0zMVQxNTowNDowNCswOTowMONpTpcAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMDctMTAtMjhUMDc6NDY6MzArMDk6MDAE9UrdAAAAAElFTkSuQmCC);background-position:bottom right;background-repeat:no-repeat;padding:14px 14px 0px 0px;color:#fff;background-color:rgba(0,0,0,0);font-size:1px}.canchor{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAAAAABzHgM7AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAAAMAAAADADOpTJ+AAAAIElEQVQI12P4jwQYsHKOHDlCDAe3AVAOSDVcD24OAgAAVIGJOMkyXx4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTItMDctMzFUMTU6MDM6NTgrMDk6MDCO9TH+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDA3LTEwLTI4VDA3OjQ2OjMwKzA5OjAwBPVK3QAAAABJRU5ErkJggg==);background-position:bottom right;background-repeat:no-repeat;padding:12px 12px 0px 0px;color:#fff;background-color:rgba(0,0,0,0);font-size:1px}.mail{display:none}.sanchor:before{display:block;content:" ";margin-top:-110px;height:110px;visibility:hidden}p.source{text-align:right;font-size:80%}p.source cite{font-style:normal}.day h2{font-size:1rem}.comment{display:none}.tdiary-profile{width:70%}.tdiary-profile-picture{border-radius:50%}.footer{display:block;margin:0 auto;text-align:right;font-size:80%;width:100%}*[id]:before{display:block;content:" ";margin-top:-120px;height:120px;visibility:hidden}    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <meta name="author" content="Youhei SASAKI">
    <!-- end: check google site verification -->
    <!-- alternate -->
    <link rel="alternate" hreflang="ja" href="https://uwabami.github.io/cc-env/Terminal.html" />
    <!-- end: alternate -->
    <!-- begin jekyll seo -->
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Terminal 生活 | Youhei SASAKI’s official site</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Terminal 生活" />
<meta name="author" content="Youhei SASAKI" />
<meta property="og:locale" content="ja" />
<link rel="canonical" href="https://uwabami.github.io/cc-env/Terminal.html" />
<meta property="og:url" content="https://uwabami.github.io/cc-env/Terminal.html" />
<meta property="og:site_name" content="Youhei SASAKI’s official site" />
<meta property="og:image" content="https://uwabami.github.io/assets/img/eyecatch_1600x900.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-02-01T23:49:43+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://uwabami.github.io/assets/img/eyecatch_1600x900.png" />
<meta property="twitter:title" content="Terminal 生活" />
<meta name="twitter:site" content="@uwabami" />
<meta name="twitter:creator" content="@Youhei SASAKI" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Youhei SASAKI","url":"https://uwabami.github.io/"},"dateModified":"2020-02-01T23:49:43+09:00","datePublished":"2020-02-01T23:49:43+09:00","headline":"Terminal 生活","image":"https://uwabami.github.io/assets/img/eyecatch_1600x900.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://uwabami.github.io/cc-env/Terminal.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://uwabami.github.io/assets/img/eyecatch_1600x900.png"},"name":"Youhei SASAKI"},"url":"https://uwabami.github.io/cc-env/Terminal.html"}</script>
<!-- End Jekyll SEO tag -->
    <!-- end jekyll seo -->
    <link rel="icon" type="image/x-icon" href="https://uwabami.github.io/assets/img/favicon.ico">
    <!-- apple icons -->
    <link rel="apple-touch-icon" href="https://uwabami.github.io/assets/img/favicon-256x256.png">
    <link rel="shortcut-icon" type="image/ico" href="/assets/img/favicon.ico">
  </head>
  <body>
    <!-- include: gdpr -->
<amp-geo layout="nodisplay">
  <script type="application/json">
    {
        "ISOCountryGroups": {
            "eu": [ "preset-eea"]
        }
    }
  </script>
</amp-geo>
<amp-consent layout="nodisplay" id="consent-element">
  <script type="application/json">
    {
        "consents": {
            "my_consent": {
                "promptIfUnknownForGeoGroup": "eu",
                "promptUI": "consent-ui"
            }
        }
    }
  </script>
  <div id="consent-ui">
    <p>I use cookies to analyze how visitors use my website via Google Analytics:</p>
    <button on="tap:consent-element.accept" role="button">Accept</button>
    <button on="tap:consent-element.reject" role="button">Reject</button>
    <button on="tap:consent-element.dismiss" role="button">Dismiss</button>
  </div>
</amp-consent>
    <!-- end include: gdpr -->
    <div class="wrapper container">
      <header>
        <!-- page loop -->
<nav>
  <ul>
    <li>
      <a href="/index.html">
        <amp-img layout="fixed"
                 width="1.2rem"
                 height="1.2rem"
                 src="/assets/img/top.webp"
                 alt="About"
                 id="top">
          <amp-img fallback
                   layout="fixed"
                   width="1.2rem"
                   height="1.2rem"
                   src="/assets/img/top.jpg"
                   alt="About"
                   id="top">
          </amp-img>
        </amp-img>
      </a>
    </li>
  </ul>
  <input class="menu-btn" type="checkbox" id="menu-btn"/>
  <label class="menu-icon" for="menu-btn"><span></span></label>
  <ul class="menu">
    <!-- lang ja -->
    <li>
      <a href="/research/index.html">
        Research
      </a>
    </li>
    <li>
      <details role="list">
        <summary aria-haspopup="listbox" role="link">Software</summary>
        <ul>
          <li>
            <a href="/software/index.html">
              Repository
            </a>
          </li>
          <li>
            <a href="/cc-env/index.html">
              Comp. Memo
            </a>
          </li>
        </ul>
      </details>
    </li>
    <li>
      <a href="https://uwabami.junkhub.org/log">blog</a>
    </li>
    <li>
      <form method="GET"
            action="https://www.google.com/cse"
            target="_top">
        <input name="cx" type="hidden"
               value="017455171263919107349:oumnpe4bynr" />
        <input name="ie" type="hidden" value="UTF-8" />
        <input type="search" placeholder="検索" name="q" required>
      </form>
    </li>
    
  </ul>
</nav>

        <nav aria-label="breadcrumb">
  <ul>
    <!-- create crumbs -->
    <li>
      <a href="/index.html">
        Top
      </a>
    </li>
    <li><a href="/cc-env/index.html">Cc-env</a></li>      <!-- end page loop -->
  </ul>
  <span class="langselector"><!-- end: lang selector -->
  </span>
</nav>

      </header>
      <main role="main">
        <div class="content">
          <h1 class="page-title">Terminal 生活</h1>
          <hr>
<p>
Related <a href="https://uwabami.github.io/cc-env/index.html">Index</a> <a href="index.html#orge0707863">Debian</a>
</p>
<div>
<h2 id="orgab2c8165">始めに</h2>
<div class="outline-text-2" id="text-orgab2c8165">
<p>
普段の生活環境(?)であるターミナルの設定アレコレ.
</p>

<p>
現状は rxvt-unicode-256color をメインで利用中.
驚きの軽さが理由の全てかな.
</p>
</div>
</div>
<div>
<h2 id="org239a6837">EAW 対応: ロケールの入れ替え</h2>
<div class="outline-text-2" id="text-org239a6837">
<p>
EAW については
</p>
<ul class="org-ul">
<li><a href="https://ja.wikipedia.org/wiki/%E6%9D%B1%E3%82%A2%E3%82%B8%E3%82%A2%E3%81%AE%E6%96%87%E5%AD%97%E5%B9%85">東アジアの文字幅 - Wikipedia</a></li>
<li><a href="http://unicode.org/reports/tr11/">UAX #11: East Asian Width</a></li>
</ul>
<p>
などを参照.
</p>

<p>
手元の環境では
East Asian Ambiguous Char と絵文字の文字幅を強制的に "2" とする
修正ロケールを使っている.
</p>
<ul class="org-ul">
<li><a href="https://github.com/uwabami/locale-eaw-emoji">uwabami/locale-eaw-emoji: UAX#11 Ambiguous と UTR #51 Emoiji を全角とする修正 locale</a></li>
</ul>
<p>
微妙に間違っている気もしないではないが, まあ良いか, 的な.
</p>

<p>
UNICODE の Box drawing char は "1" にした方が良いかなぁ…
</p>
</div>
</div>
<div>
<h2 id="orgb8ad7afe">自作合成フォント:</h2>
<div class="outline-text-2" id="text-orgb8ad7afe">
<p>
「プログラミング」とか「等幅」とかで検索すると
イロイロな合成フォントが見つかりますが,
いまいち気にいるフォントが無かったので, 自作することにしました.
</p>

<ul class="org-ul">
<li><a href="https://github.com/uwabami/isfit-plus">uwabami/isfit-plus: Icon Symbols Font In Terminal plus</a></li>
<li><a href="https://github.com/uwabami/fsmrmp">uwabami/fsmrmp: FSMRMP - Patched Font: 'Fantasque Sans Mono' + 'Rounded Mgen+'</a></li>
</ul>

<p>
現状はとりあえずこれで良しとする感じ.
</p>
</div>
</div>
<div>
<h2 id="org8b0bd5a9">tmux</h2>
<div class="outline-text-2" id="text-org8b0bd5a9">
<p>
以前は GNU screen を使っていたのだけれども,
接続先の環境の多くが UTF-8 をサポートしてくれたので,
tmux に移行した.
</p>

<p>
設定は以下の通り.
</p>
<figure class="highlight"><pre><code class="language-conf" data-lang="conf"><span class="c"># -*- mode: conf; coding: utf-8-unix; indent-tabs-mode: nil -*-
#
# Author: Youhei SASAKI &lt;uwabami@gfd-dennou.org&gt;
# $Lastupdate: 22021-09-14 17:43:54$
# License: Public domain.
</span>
<span class="c">## general
# ESC での遅延解消: don't wait
</span><span class="n">set</span> -<span class="n">sg</span> <span class="n">escape</span>-<span class="n">time</span> <span class="m">0</span>
<span class="c"># Window を 0,  Pane を 1 始まりに
</span><span class="n">set</span> -<span class="n">g</span> <span class="n">base</span>-<span class="n">index</span> <span class="m">0</span>
<span class="n">set</span> -<span class="n">g</span> <span class="n">pane</span>-<span class="n">base</span>-<span class="n">index</span> <span class="m">0</span>
<span class="c"># mouse 操作を無効化
</span><span class="n">setw</span> -<span class="n">g</span> <span class="n">mouse</span> <span class="n">off</span>
<span class="c"># disable bell action
</span><span class="n">set</span> -<span class="n">g</span> <span class="n">bell</span>-<span class="n">action</span> <span class="n">none</span>
<span class="c"># Window renmae enabled
</span><span class="n">setw</span> -<span class="n">g</span> <span class="n">automatic</span>-<span class="n">rename</span> <span class="n">off</span>
<span class="c"># default で起動するコマンド: zsh
</span><span class="n">set</span> -<span class="n">g</span> <span class="n">default</span>-<span class="n">command</span> <span class="n">zsh</span>
<span class="c"># prefix の有効時間: no wait
</span><span class="n">set</span>-<span class="n">option</span> -<span class="n">g</span> <span class="n">repeat</span>-<span class="n">time</span> <span class="m">0</span>

<span class="c">## display
# TERM等の設定
# set-option -ga terminal-overrides ",rxvt-256-color:Tc"
</span><span class="n">set</span>-<span class="n">option</span> -<span class="n">ga</span> <span class="n">terminal</span>-<span class="n">overrides</span> <span class="s2">",rxvt-*:Tc,xterm-*:Tc"</span>
<span class="c"># set -g default-terminal "screen-256color"
</span><span class="n">set</span> -<span class="n">g</span> <span class="n">default</span>-<span class="n">terminal</span> <span class="s2">"screen-256color"</span>
<span class="c"># set -g default-terminal tmux-direct
</span><span class="n">set</span>-<span class="n">environment</span> -<span class="n">g</span> <span class="n">NCURSES_NO_UTF8_ACS</span> <span class="m">0</span>
<span class="c"># 罫線素片の扱い: rxvt ならコレで良いのだが...
# set -ag terminal-overrides ',*:U8=0'
# 罫線素片の扱い: VTE 系はわざわざ Unicode に置き換える, ので ASCII で描画する
# set-option -g pane-border-ascii 0  # ←あてて build してある場合は不要
# set-environment -g VTE_CJK_WIDTH 1 # ←最近ちゃんと効いてない気がする.
# メッセージ表示時間(既定値は1000?)
</span><span class="n">set</span> -<span class="n">g</span> <span class="n">display</span>-<span class="n">time</span> <span class="m">4000</span>
<span class="c"># 後方スクロール行数(既定値は2000)
</span><span class="n">set</span> -<span class="n">g</span> <span class="n">history</span>-<span class="n">limit</span> <span class="m">8192</span>
<span class="n">setw</span> -<span class="n">g</span> <span class="n">pane</span>-<span class="n">active</span>-<span class="n">border</span>-<span class="n">style</span> <span class="s2">"fg=#ff5252,bg=default"</span>
<span class="n">setw</span> -<span class="n">g</span> <span class="n">pane</span>-<span class="n">border</span>-<span class="n">style</span> <span class="s2">"fg=#64FCDA,bg=default"</span>
<span class="c"># don't show other activity
</span><span class="n">set</span> -<span class="n">g</span> <span class="n">monitor</span>-<span class="n">activity</span> <span class="n">off</span>
<span class="n">set</span> -<span class="n">g</span> <span class="n">visual</span>-<span class="n">activity</span> <span class="n">off</span>
<span class="n">set</span> -<span class="n">g</span> <span class="n">allow</span>-<span class="n">rename</span> <span class="n">on</span>
<span class="c"># pane number display
</span><span class="n">set</span> -<span class="n">g</span> <span class="n">display</span>-<span class="n">panes</span>-<span class="n">time</span> <span class="m">4000</span>

<span class="n">set</span> -<span class="n">g</span> <span class="n">status</span>-<span class="n">style</span> <span class="s2">"bg=default,fg=#888888"</span>
<span class="c"># set -g status-interval 1
</span><span class="n">setw</span> -<span class="n">g</span> <span class="n">window</span>-<span class="n">status</span>-<span class="n">current</span>-<span class="n">style</span> <span class="s2">"fg=#ff5252,bg=default"</span>
<span class="n">setw</span> -<span class="n">g</span> <span class="n">message</span>-<span class="n">style</span> <span class="s2">"fg=#242424,bg=#ffd740,bright"</span>
<span class="n">setw</span> -<span class="n">g</span> <span class="n">status</span>-<span class="n">left</span>-<span class="n">length</span> <span class="m">25</span>
<span class="n">setw</span> -<span class="n">g</span> <span class="n">status</span>-<span class="n">right</span>-<span class="n">length</span> <span class="m">15</span>
<span class="n">setw</span> -<span class="n">g</span> <span class="n">status</span>-<span class="n">left</span> <span class="s2">"#[fg=#4c4cff][#[fg=#f6f3e8]#h#[fg=#4c4cff]]#[default] "</span>
<span class="n">setw</span> -<span class="n">g</span> <span class="n">status</span>-<span class="n">right</span> <span class="s2">"#[fg=#4c4cff]|#[fg=#f6f3e8]#(date +%y/%m/%d)#[fg=#4c4cff]|#[default]"</span>

<span class="c">## keybind
# prefix:
</span><span class="n">unbind</span> <span class="n">C</span>-<span class="n">b</span>                 <span class="c"># 既定のPrefixキー(Ctrl+b)の割り当てを解除
</span><span class="n">set</span> -<span class="n">g</span> <span class="n">prefix</span> <span class="n">C</span>-<span class="n">t</span>          <span class="c"># Ctrl+tをPrefixキーにする
</span><span class="n">bind</span> <span class="n">C</span>-<span class="n">t</span> <span class="n">send</span>-<span class="n">prefix</span>       <span class="c"># prefix-key の入力を渡す
# reload
</span><span class="n">bind</span> <span class="n">r</span> <span class="n">source</span>-<span class="n">file</span> ~/.<span class="n">tmux</span>.<span class="n">conf</span> \; <span class="n">display</span> <span class="s2">"Reload config file"</span>
<span class="c"># コピーモードで vi + emacs 風
</span><span class="n">setw</span> -<span class="n">g</span> <span class="n">mode</span>-<span class="n">keys</span> <span class="n">vi</span>
<span class="n">bind</span> -<span class="n">T</span> <span class="n">copy</span>-<span class="n">mode</span>-<span class="n">vi</span> <span class="n">C</span>-<span class="n">a</span> <span class="n">send</span>-<span class="n">keys</span> -<span class="n">X</span> <span class="n">start</span>-<span class="n">of</span>-<span class="n">line</span>
<span class="n">bind</span> -<span class="n">T</span> <span class="n">copy</span>-<span class="n">mode</span>-<span class="n">vi</span> <span class="n">C</span>-<span class="n">e</span> <span class="n">send</span>-<span class="n">keys</span> -<span class="n">X</span> <span class="n">end</span>-<span class="n">of</span>-<span class="n">line</span>
<span class="n">bind</span> -<span class="n">T</span> <span class="n">copy</span>-<span class="n">mode</span>-<span class="n">vi</span> <span class="n">v</span> <span class="n">send</span>-<span class="n">keys</span> -<span class="n">X</span> <span class="n">begin</span>-<span class="n">selection</span>
<span class="n">bind</span> -<span class="n">T</span> <span class="n">copy</span>-<span class="n">mode</span>-<span class="n">vi</span> <span class="n">y</span> <span class="n">send</span>-<span class="n">keys</span> -<span class="n">X</span> <span class="n">copy</span>-<span class="n">pipe</span>-<span class="n">and</span>-<span class="n">cancel</span> <span class="s1">'xclip -in -selection clipboard &gt;/dev/null'</span>
<span class="n">bind</span> -<span class="n">T</span> <span class="n">copy</span>-<span class="n">mode</span>-<span class="n">vi</span> <span class="n">NPage</span> <span class="n">send</span>-<span class="n">keys</span> -<span class="n">X</span> <span class="n">page</span>-<span class="n">down</span>
<span class="n">bind</span> -<span class="n">T</span> <span class="n">copy</span>-<span class="n">mode</span>-<span class="n">vi</span> <span class="n">PPage</span> <span class="n">send</span>-<span class="n">keys</span> -<span class="n">X</span> <span class="n">page</span>-<span class="n">up</span>
<span class="n">unbind</span> ]
<span class="n">bind</span> ] <span class="n">run</span>-<span class="n">shell</span> <span class="s2">"xclip -o -selection clipboard | tmux load-buffer - &amp;&amp; tmux paste-buffer"</span>
<span class="n">unbind</span> %
<span class="n">unbind</span> <span class="s1">'"'</span>
<span class="c"># bind-key          z resize-pane -Z
</span><span class="n">unbind</span> <span class="n">z</span>
<span class="c"># bind-key        C-z suspend-client
</span><span class="n">unbind</span> <span class="n">C</span>-<span class="n">z</span>
<span class="n">unbind</span> <span class="n">Z</span>
<span class="n">unbind</span> <span class="n">s</span>
<span class="n">bind</span> <span class="n">s</span> <span class="n">split</span>-<span class="n">window</span> -<span class="n">v</span>
<span class="n">unbind</span> |
<span class="n">bind</span> | <span class="n">split</span>-<span class="n">window</span> -<span class="n">h</span>
<span class="n">unbind</span> <span class="n">o</span>
<span class="n">bind</span> <span class="n">o</span> <span class="n">display</span>-<span class="n">pane</span>

<span class="n">unbind</span> <span class="n">C</span>-<span class="n">c</span>
<span class="n">bind</span> <span class="n">C</span>-<span class="n">c</span> <span class="n">new</span>-<span class="n">window</span>
<span class="n">unbind</span> <span class="n">C</span>-<span class="n">p</span>
<span class="n">bind</span> <span class="n">C</span>-<span class="n">p</span> <span class="n">previous</span>-<span class="n">window</span>
<span class="n">unbind</span> <span class="n">C</span>-<span class="n">n</span>
<span class="n">bind</span> <span class="n">C</span>-<span class="n">n</span> <span class="n">next</span>-<span class="n">window</span>

<span class="c">## Custom command
</span><span class="n">unbind</span>-<span class="n">key</span> -
<span class="c"># bind - run-shell ~/.config/tmux/weechat-toggle.sh
# unbind-key b
# bind-key b split-window 'tmux lsw | peco | cut -d":" -f 1 | xargs tmux select-window -t'
</span>
<span class="n">unbind</span> <span class="n">C</span>-<span class="n">Up</span>
<span class="n">unbind</span> <span class="n">C</span>-<span class="n">Down</span>
<span class="n">unbind</span> <span class="n">C</span>-<span class="n">Left</span>
<span class="n">unbind</span> <span class="n">C</span>-<span class="n">Right</span>
<span class="n">unbind</span> <span class="n">M</span>-<span class="n">Up</span>
<span class="n">unbind</span> <span class="n">M</span>-<span class="n">Down</span>
<span class="n">unbind</span> <span class="n">M</span>-<span class="n">Left</span>
<span class="n">unbind</span> <span class="n">M</span>-<span class="n">Right</span></code></pre></figure>

<p>
weechat を常に下に表示させておきたいので <code>C-t -</code> でトグルできるように
以下の <code>weechat-toggle.sh</code> を割り当てている.
</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c">#!/bin/sh</span>
<span class="nv">tmp</span><span class="o">=</span><span class="nv">$HOME</span>/.tmux.d/weechat.tmp
<span class="nv">current_weechat_window</span><span class="o">=</span><span class="sb">`</span>tmux lsp <span class="nt">-a</span> <span class="nt">-F</span> <span class="s2">"#I: #T"</span> | <span class="nb">grep </span>WeeChat | <span class="nb">cut</span> <span class="nt">-d</span><span class="s2">":"</span> <span class="nt">-f</span> 1<span class="sb">`</span>
<span class="nv">current_weechat_pane</span><span class="o">=</span><span class="sb">`</span>tmux lsp <span class="nt">-a</span> <span class="nt">-F</span> <span class="s2">"#P: #T"</span> | <span class="nb">grep </span>WeeChat | <span class="nb">cut</span> <span class="nt">-d</span><span class="s2">":"</span> <span class="nt">-f</span> 1<span class="sb">`</span>
<span class="c"># current_weechat_window=`tmux lsp -a -F "#I: #T" | grep screen | cut -d":" -f 1`</span>
<span class="c"># current_weechat_pane=`tmux lsp -a -F "#P: #T" | grep screen | cut -d":" -f 1`</span>
<span class="nv">current_active_window</span><span class="o">=</span><span class="sb">`</span>tmux lsw | <span class="nb">grep </span>active | <span class="nb">cut</span> <span class="nt">-d</span><span class="s2">":"</span> <span class="nt">-f</span> 1<span class="sb">`</span>
<span class="nv">current_active_pane</span><span class="o">=</span><span class="sb">`</span>tmux lsp | <span class="nb">grep </span>active | <span class="nb">cut</span> <span class="nt">-d</span><span class="s2">":"</span> <span class="nt">-f</span> 1<span class="sb">`</span>

<span class="k">if</span> <span class="o">[</span> <span class="k">${</span><span class="nv">current_weechat_window</span><span class="k">}</span> <span class="nt">-ne</span> <span class="k">${</span><span class="nv">current_active_window</span><span class="k">}</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then
    </span>tmux join-pane <span class="nt">-l</span> 10 <span class="nt">-s</span> :<span class="k">${</span><span class="nv">current_weechat_window</span><span class="k">}</span>.<span class="k">${</span><span class="nv">current_weechat_pane</span><span class="k">}</span> <span class="nt">-t</span> :<span class="k">${</span><span class="nv">current_active_window</span><span class="k">}</span>
    tmux <span class="k">select</span><span class="nt">-pane</span> <span class="nt">-t</span> 0
<span class="k">else
    if</span> <span class="o">[</span> <span class="nt">-e</span> <span class="nv">$tmp</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then
        </span>tmux resize-pane <span class="nt">-t</span> <span class="k">${</span><span class="nv">current_weechat_pane</span><span class="k">}</span> <span class="nt">-Z</span>
        <span class="nb">rm</span> <span class="nt">-f</span> <span class="nv">$tmp</span>
    <span class="k">else
        </span>tmux resize-pane <span class="nt">-t</span> <span class="k">${</span><span class="nv">current_weechat_pane</span><span class="k">}</span> <span class="nt">-Z</span>
        tmux <span class="k">select</span><span class="nt">-pane</span> <span class="nt">-t</span> 0
        <span class="nb">touch</span> <span class="nv">$tmp</span>
    <span class="k">fi
fi</span></code></pre></figure>

<p>
…weechat 自体にはイロイロと表示しているので,
気がちってしょうがない, かもしれない(笑)
</p>
</div>
</div>
<div>
<h2 id="org0cf0845f">obsolete</h2>
<div class="outline-text-2" id="text-org0cf0845f">
<p>
以下は最近やってないこと.
</p>
</div>
<div>
<h3 id="org7d8278b3">rxvt-unicode の patch 当て</h3>
<div class="outline-text-3" id="text-org7d8278b3">
<p>
<b><span class="alert">Obsolete</span></b> 合成フォントを自作するようになったので最近はここまで凝ったことしてないです.
</p>

<p>
Debian では configure オプションの変えた urxvt のパッケージが提供されていた.
(256色が使いたいので <code>rxvt-unicode-256color</code> を使っていた).
最近はこれらは dummy になっていて, <code>rxvt-unicode</code> を入れれば良い模様
</p>
<pre class="example">
% apt-cache search rxvt-unicode
aterm - dummy transitional package for rxvt-unicode
aterm-ml - dummy transitional package for rxvt-unicode
rxvt - dummy transitional package for rxvt-unicode
rxvt-ml - dummy transitional package for rxvt-unicode
rxvt-unicode - RXVT-like terminal emulator with Unicode and 256-color support
rxvt-unicode-256color - dummy transitional package for rxvt-unicode
rxvt-unicode-lite - dummy transitional package for rxvt-unicode
</pre>

<p>
ただ, フォント表示に関して幾つか気になるところがある.
詳細は<a href="http://emonkak.hatenablog.com/entry/2016/12/09/185009">rxvt-unicodeのフォントレンダリングを改善する - emonkak's Blog</a>
</p>

<p>
パッチは以下. これに  Debian パッケージをこのパッチを当てて rebuild して使っている.
</p>
<figure class="highlight"><pre><code class="language-diff" data-lang="diff"><span class="gh">diff --git a/src/rxvtfont.C b/src/rxvtfont.C
index 1914539..4c0189e 100644
</span><span class="gd">--- a/src/rxvtfont.C
</span><span class="gi">+++ b/src/rxvtfont.C
</span><span class="p">@@ -1223,92 +1223,63 @@</span> rxvt_font_xft::load (const rxvt_fontprop &amp;prop, bool force_prop)
     return false;
<span class="err">
</span>   int ftheight = 0;
<span class="gd">-  bool success = true;
-
-  for (;;)
-    {
-      p = FcPatternDuplicate (match);
-      f = XftFontOpenPattern (disp, p);
-
-      if (!f)
-        {
-          FcPatternDestroy (p);
-          success = false;
-          break;
-        }
-
-      FT_Face face = XftLockFace (f);
-
-      ascent  = (face-&gt;size-&gt;metrics.ascender + 63) &gt;&gt; 6;
-      descent = (-face-&gt;size-&gt;metrics.descender + 63) &gt;&gt; 6;
-      height  = max (ascent + descent, (face-&gt;size-&gt;metrics.height + 63) &gt;&gt; 6);
-      width   = 0;
-
-      bool scalable = face-&gt;face_flags &amp; FT_FACE_FLAG_SCALABLE;
</span><span class="err">
</span><span class="gd">-      XftUnlockFace (f);
</span><span class="gi">+  p = FcPatternDuplicate (match);
+  f = XftFontOpenPattern (disp, p);
</span><span class="err">
</span><span class="gd">-      int glheight = height;
</span><span class="gi">+  if (!f)
+    {
+      FcPatternDestroy (p);
+      return false;
+    }
</span><span class="err">
</span><span class="gd">-      for (uint16_t *t = extent_test_chars; t &lt; extent_test_chars + ecb_array_length (extent_test_chars); t++)
-        {
-          FcChar16 ch = *t;
</span><span class="gi">+  FT_Face face = XftLockFace (f);
</span><span class="err">
</span><span class="gd">-          if (cs != CS_UNICODE
-              &amp;&amp; ch &gt; 0x100
-              &amp;&amp; FROM_UNICODE (cs, ch) == NOCHAR)
-            continue;
</span><span class="gi">+  ascent  = f-&gt;ascent;
+  descent = f-&gt;descent;
+  height  = max (ascent + descent, f-&gt;height);
+  width   = 0;
</span><span class="err">
</span><span class="gd">-          // ignore characters we wouldn't use anyways
-          bool careful;
-          if (!has_char (*t, &amp;prop, careful))
-            continue;
</span><span class="gi">+  bool scalable = face-&gt;face_flags &amp; FT_FACE_FLAG_SCALABLE;
</span><span class="err">
</span><span class="gd">-          XGlyphInfo g;
-          XftTextExtents16 (disp, f, &amp;ch, 1, &amp;g);
</span><span class="gi">+  XftUnlockFace (f);
</span><span class="err">
</span><span class="gd">-          g.width -= g.x;
</span><span class="gi">+  for (uint16_t *t = extent_test_chars; t &lt; extent_test_chars + ecb_array_length (extent_test_chars); t++)
+    {
+      FcChar16 ch = *t;
</span><span class="err">
</span><span class="gd">-          int wcw = WCWIDTH (ch);
-          if (wcw &gt; 0) g.width = (g.width + wcw - 1) / wcw;
</span><span class="gi">+      if (cs != CS_UNICODE
+          &amp;&amp; ch &gt; 0x100
+          &amp;&amp; FROM_UNICODE (cs, ch) == NOCHAR)
+        continue;
</span><span class="err">
</span><span class="gd">-          if (width    &lt; g.width       ) width    = g.width;
-          if (height   &lt; g.height      ) height   = g.height;
-          if (glheight &lt; g.height - g.y) glheight = g.height - g.y;
-        }
</span><span class="gi">+      // ignore characters we wouldn't use anyways
+      bool careful;
+      if (!has_char (*t, &amp;prop, careful))
+        continue;
</span><span class="err">
</span><span class="gd">-      if (!width)
-        {
-          rxvt_warn ("unable to calculate font width for '%s', ignoring.\n", name);
</span><span class="gi">+      XGlyphInfo g;
+      XftTextExtents16 (disp, f, &amp;ch, 1, &amp;g);
</span><span class="err">
</span><span class="gd">-          XftFontClose (disp, f);
-          f = 0;
</span><span class="gi">+      g.width -= g.x;
</span><span class="err">
</span><span class="gd">-          success = false;
-          break;
-        }
</span><span class="gi">+      int wcw = WCWIDTH (ch);
+      if (wcw &gt; 1) g.xOff = g.xOff / wcw;
</span><span class="err">
</span><span class="gd">-      if (prop.height == rxvt_fontprop::unset
-          || (height &lt;= prop.height &amp;&amp; glheight &lt;= prop.height)
-          || height &lt;= 2
-          || !scalable)
-        break;
</span><span class="gi">+      if (width    &lt; g.xOff  ) width    = g.xOff;
+      if (height   &lt; g.height) height   = g.height;
+    }
</span><span class="err">
</span><span class="gd">-      if (ftheight)
-        {
-          // take smaller steps near the end
-          if (height &gt; prop.height + 1) ftheight++;
-          if (height &gt; prop.height + 2) ftheight++;
-          if (height &gt; prop.height + 3) ftheight++;
</span><span class="gi">+  bool success = true;
</span><span class="err">
</span><span class="gd">-          ftheight -= height - prop.height;
-        }
-      else
-        ftheight = prop.height - 1;
</span><span class="gi">+  if (!width)
+    {
+      rxvt_warn ("unable to calculate font width for '%s', ignoring.\n", name);
</span><span class="err">
</span>       XftFontClose (disp, f);
<span class="gd">-      FcPatternDel (match, FC_PIXEL_SIZE);
-      FcPatternAddInteger (match, FC_PIXEL_SIZE, ftheight);
</span><span class="gi">+      f = 0;
+
+      success = false;
</span>     }
<span class="err">
</span>   FcPatternDestroy (match);
<span class="p">@@ -1395,7 +1366,7 @@</span> rxvt_font_xft::draw (rxvt_drawable &amp;d, int x, int y,
<span class="err">
</span>           ep-&gt;glyph = glyph;
           ep-&gt;x = x_ + (cwidth - extents.xOff &gt;&gt; 1);
<span class="gd">-          ep-&gt;y = y_ + ascent;
</span><span class="gi">+          ep-&gt;y = y_ + term-&gt;fbase + (term-&gt;lineSpace &gt;&gt; 1);
</span><span class="err">
</span>           if (extents.xOff == 0)
             ep-&gt;x = x_ + cwidth;
<span class="gh">diff --git a/src/screen.C b/src/screen.C
index 9eb375a..7b3cdbf 100644
</span><span class="gd">--- a/src/screen.C
</span><span class="gi">+++ b/src/screen.C
</span><span class="p">@@ -2432,8 +2432,8 @@</span> rxvt_term::scr_refresh () NOTHROW
                 XSetForeground (dpy, gc, pix_colors[fore]);
<span class="err">
</span>               XDrawLine (dpy, vt, gc,
<span class="gd">-                         xpixel, ypixel + font-&gt;ascent + 1,
-                         xpixel + Width2Pixel (count) - 1, ypixel + font-&gt;ascent + 1);
</span><span class="gi">+                         xpixel, ypixel + Height2Pixel (1) - 1,
+                         xpixel + Width2Pixel (count) - 1, ypixel + Height2Pixel (1) - 1);
</span>             }
         }                     /* for (col....) */
     }                         /* for (row....) */
<span class="gh">diff --git a/src/table/jis0208_1990_0.h b/src/table/jis0208_1990_0.h
index b23378f..0febcd3 100644
</span><span class="gd">--- a/src/table/jis0208_1990_0.h
</span><span class="gi">+++ b/src/table/jis0208_1990_0.h
</span><span class="p">@@ -2241,6 +2241,7 @@</span> const uint16_t *jis0208_1990_0_f_i[] = {
<span class="err">
</span> static uint32_t cs_jis0208_1990_0_from_unicode (unicode_t unicode) {
     if (unicode == 0x2312) return 0x225e;
<span class="gi">+    if (unicode == 0xff5e) return 0x2141;
</span>     uint8_t  l = unicode;
     uint16_t h = unicode &gt;&gt; 8;
     if (0x00 &lt;= h &amp;&amp; h &lt;= 0xff</code></pre></figure>
</div>
</div>

<div>
<h3 id="org7bd35331">tmux の EAW 対応 patch</h3>
<div class="outline-text-3" id="text-org7bd35331">
<p>
<b><span class="alert">Obsolete</span></b> EAW対応としてロケールを入れ替えるようになったので, 最近は patch はあててないです.
</p>

<p>
tmux EAW 文字幅問題の扱いに多少(?)不満があるので,
以下二つのパッチを当てて rebuild して使っている.
</p>

<p>
一つ目は pane-border 等、全て ASCII で描くパッチ.
</p>
<figure class="highlight"><pre><code class="language-diff" data-lang="diff"><span class="p">From: Youhei SASAKI &lt;uwabami@gfd-dennou.org&gt;
Date: Sat, 4 Feb 2017 03:29:22 +0900
Subject: Use box drawing DECSP or ASCII with option 'pane-border-ascii'
</span><span class="err">
</span><span class="p">Signed-off-by: Youhei SASAKI &lt;uwabami@gfd-dennou.org&gt;
---
</span> options-table.c |  5 +++++
 tty-acs.c       | 68 ++++++++++++++++++++++++++++-----------------------------
 2 files changed, 39 insertions(+), 34 deletions(-)
<span class="err">
</span><span class="gd">--- a/options-table.c
</span><span class="gi">+++ b/options-table.c
</span><span class="p">@@ -293,6 +293,12 @@</span>
 	  .default_num = 0
 	},
<span class="err">
</span><span class="gi">+	{ .name = "pane-border-ascii",
+	  .type = OPTIONS_TABLE_FLAG,
+	  .scope = OPTIONS_TABLE_SESSION,
+	  .default_num = 1
+	},
+
</span> 	{ .name = "prefix",
 	  .type = OPTIONS_TABLE_KEY,
 	  .scope = OPTIONS_TABLE_SESSION,
<span class="gd">--- a/tty-acs.c
</span><span class="gi">+++ b/tty-acs.c
</span><span class="p">@@ -30,38 +30,38 @@</span>
 	const char	*string;
 };
 const struct tty_acs_entry tty_acs_table[] = {
<span class="gd">-	{ '+', "\342\206\222" },	/* arrow pointing right */
-	{ ',', "\342\206\220" },	/* arrow pointing left */
-	{ '-', "\342\206\221" },	/* arrow pointing up */
-	{ '.', "\342\206\223" },	/* arrow pointing down */
-	{ '0', "\342\226\256" },	/* solid square block */
-	{ '`', "\342\227\206" },	/* diamond */
-	{ 'a', "\342\226\222" },	/* checker board (stipple) */
-	{ 'f', "\302\260" },		/* degree symbol */
-	{ 'g', "\302\261" },		/* plus/minus */
-	{ 'h', "\342\226\222" },	/* board of squares */
-	{ 'i', "\342\230\203" },	/* lantern symbol */
-	{ 'j', "\342\224\230" },	/* lower right corner */
-	{ 'k', "\342\224\220" },	/* upper right corner */
-	{ 'l', "\342\224\214" },	/* upper left corner */
-	{ 'm', "\342\224\224" },	/* lower left corner */
-	{ 'n', "\342\224\274" },	/* large plus or crossover */
-	{ 'o', "\342\216\272" },	/* scan line 1 */
-	{ 'p', "\342\216\273" },	/* scan line 3 */
-	{ 'q', "\342\224\200" },	/* horizontal line */
-	{ 'r', "\342\216\274" },	/* scan line 7 */
-	{ 's', "\342\216\275" },	/* scan line 9 */
-	{ 't', "\342\224\234" },	/* tee pointing right */
-	{ 'u', "\342\224\244" },	/* tee pointing left */
-	{ 'v', "\342\224\264" },	/* tee pointing up */
-	{ 'w', "\342\224\254" },	/* tee pointing down */
-	{ 'x', "\342\224\202" },	/* vertical line */
-	{ 'y', "\342\211\244" },	/* less-than-or-equal-to */
-	{ 'z', "\342\211\245" },	/* greater-than-or-equal-to */
-	{ '{', "\317\200" },   		/* greek pi */
-	{ '|', "\342\211\240" },	/* not-equal */
-	{ '}', "\302\243" },		/* UK pound sign */
-	{ '~', "\302\267" }		/* bullet */
</span><span class="gi">+	{ '+', "&gt;" },	/* arrow pointing right */
+	{ ',', "&lt;" },	/* arrow pointing left */
+	{ '-', "^" },	/* arrow pointing up */
+	{ '.', "." },	/* arrow pointing down */
+	{ '0', "#" },	/* solid square block */
+	{ '`', "#" },	/* diamond */
+	{ 'a', "#" },	/* checker board (stipple) */
+	{ 'f', "#" },	/* degree symbol */
+	{ 'g', "#" },	/* plus/minus */
+	{ 'h', "#" },	/* board of squares */
+	{ 'i', "#" },	/* lantern symbol */
+	{ 'j', "+" },	/* lower right corner */
+	{ 'k', "+" },	/* upper right corner */
+	{ 'l', "+" },	/* upper left corner */
+	{ 'm', "+" },	/* lower left corner */
+	{ 'n', "+" },	/* large plus or crossover */
+	{ 'o', "_" },	/* scan line 1 */
+	{ 'p', "_" },	/* scan line 3 */
+	{ 'q', "-" },	/* horizontal line */
+	{ 'r', "_" },	/* scan line 7 */
+	{ 's', "_" },	/* scan line 9 */
+	{ 't', "+" },	/* tee pointing right */
+	{ 'u', "+" },	/* tee pointing left */
+	{ 'v', "+" },	/* tee pointing up */
+	{ 'w', "+" },	/* tee pointing down */
+	{ 'x', "|" },	/* vertical line */
+	{ 'y', "#" },	/* less-than-or-equal-to */
+	{ 'z', "#" },	/* greater-than-or-equal-to */
+	{ '{', "#" },	/* greek pi */
+	{ '|', "#" },	/* not-equal */
+	{ '}', "#" },	/* UK pound sign */
+	{ '~', "*" }	/* bullet */
</span> };
<span class="err">
</span> int
<span class="p">@@ -80,8 +80,8 @@</span>
 {
 	struct tty_acs_entry *entry;
<span class="err">
</span><span class="gd">-	/* If not a UTF-8 terminal, use the ACS set. */
-	if (tty != NULL &amp;&amp; !(tty-&gt;flags &amp; TTY_UTF8)) {
</span><span class="gi">+	/* If pane-border-ascii */
+	if ( options_get_number(global_s_options, "pane-border-ascii") != 0 ) {
</span> 		if (tty-&gt;term-&gt;acs[ch][0] == '\0')
 			return (NULL);
 		return (&amp;tty-&gt;term-&gt;acs[ch][0]);
<span class="gd">--- a/tty.c
</span><span class="gi">+++ b/tty.c
</span><span class="p">@@ -58,7 +58,7 @@</span>
 void	tty_default_colours(struct grid_cell *, const struct window_pane *);
<span class="err">
</span> #define tty_use_acs(tty) \
<span class="gd">-	(tty_term_has((tty)-&gt;term, TTYC_ACSC) &amp;&amp; !((tty)-&gt;flags &amp; TTY_UTF8))
</span><span class="gi">+	(tty_term_has((tty)-&gt;term, TTYC_ACSC) &amp;&amp; (options_get_number(global_s_options, "pane-border-ascii") != 0 ))
</span><span class="err">
</span> #define tty_pane_full_width(tty, ctx) \
 	((ctx)-&gt;xoff == 0 &amp;&amp; screen_size_x((ctx)-&gt;wp-&gt;screen) &gt;= (tty)-&gt;sx)</code></pre></figure>

<p>
二つ目は <code>en_US.UTF-8</code> 決め打ちを止めるパッチ.
</p>
<figure class="highlight"><pre><code class="language-diff" data-lang="diff"><span class="p">From: Youhei SASAKI &lt;uwabami@gfd-dennou.org&gt;
Date: Sat, 4 Feb 2017 03:30:21 +0900
Subject: Unse locale as en_US.UTF-8
</span><span class="err">
</span><span class="p">Signed-off-by: Youhei SASAKI &lt;uwabami@gfd-dennou.org&gt;
---
</span> tmux.c | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)
<span class="err">
</span><span class="gd">--- a/tmux.c
</span><span class="gi">+++ b/tmux.c
</span><span class="p">@@ -188,13 +188,11 @@</span>
 	const char	*s;
 	int		 opt, flags, keys;
<span class="err">
</span><span class="gd">-	if (setlocale(LC_CTYPE, "en_US.UTF-8") == NULL) {
-		if (setlocale(LC_CTYPE, "") == NULL)
-			errx(1, "invalid LC_ALL, LC_CTYPE or LANG");
-		s = nl_langinfo(CODESET);
-		if (strcasecmp(s, "UTF-8") != 0 &amp;&amp; strcasecmp(s, "UTF8") != 0)
-			errx(1, "need UTF-8 locale (LC_CTYPE) but have %s", s);
-	}
</span><span class="gi">+	if (setlocale(LC_CTYPE, "") == NULL)
+		errx(1, "invalid LC_ALL, LC_CTYPE or LANG");
+	s = nl_langinfo(CODESET);
+	if (strcasecmp(s, "UTF-8") != 0 &amp;&amp; strcasecmp(s, "UTF8") != 0)
+		errx(1, "need UTF-8 locale (LC_CTYPE) but have %s", s);
</span><span class="err">
</span> 	setlocale(LC_TIME, "");
 	tzset();</code></pre></figure>

<p>
これらのパッチを当てた Debian パッケージを作成し,
tmux.conf にて <code>set-option -g pane-border-ascii 0</code> を指定している.
</p>
</div>
</div>
</div>

        </div>
      </main>
      <a href="#" class="back_to_top">Back to Top &#9650;</a>
      <hr/>
      <footer>
        <p>&copy; 2006-2020
  <a href="mailto:uwabami@gfd-dennou.org">Youhei SASAKI</a>,
  Lastupdate: 2020-02-01 14:49:43 +0000
  <br/>
  Powered by
  <a href="https://orgmode.org/" rel="noopener" title="Org mode">
    Org mode
  </a>
  +
  <a href="https://jekyllrb.com/" rel="noopener" title="Jekyll">
    Jekyll
  </a>
  +
  <a href="https://picocss.com/" rel="noopener" title="pico.css">
    Pico.css
  </a>
  &amp;
  <a href="https://amp.dev/">
    <span class="icon-amp">⚡</span>AMP
  </a>
</p>

      </footer>
    </div>
    <amp-analytics data-block-on-consent
               type="googleanalytics"
               config="https://uwabami.github.io/assets/ga4.json"
               data-credentials="include"
		       data-block-on-consent>
  <script type="application/json">
    {
        "vars": {
            "GA4_MEASUREMENT_ID": "G-CLB2VW9XEW",
            "GA4_ENDPOINT_HOSTNAME": "www.google-analytics.com",
            "DEFAULT_PAGEVIEW_ENABLED": true,
            "GOOGLE_CONSENT_ENABLED": true,
            "WEBVITALS_TRACKING": false,
            "PERFORMANCE_TIMING_TRACKING": false
        }
    }
  </script>
</amp-analytics>

  </body>
</html>
